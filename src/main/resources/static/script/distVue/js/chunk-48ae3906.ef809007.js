(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48ae3906"],{2754:function(t,e,i){},"8dcd":function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wt-header"},[i("div",{staticClass:"cont-web"},[i("h2",[t._v(t._s(t.title))]),i("span",[t._v(t._s(t.dost))])])])},r=[],s={name:"wtHeader",props:{title:{type:String,default:""},dost:{type:String,default:""}}},n=s,a=(i("c377"),i("2877")),c=Object(a["a"])(n,o,r,!1,null,"5a96e080",null);e["a"]=c.exports},9123:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));i("d3b7");var o=i("9179");function r(t){var e="endUser/sendCode";return new Promise((function(i,r){o["a"].post(e,{},{},t||{}).then((function(t){i(t)})).catch((function(t){r(t),new Error(t)}))}))}},9406:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dashboard-container"},[i("wt-header",{attrs:{title:"我的账户",dost:"myAccount"}}),i("div",{staticClass:"dashboard-text"},[i("h2",{staticClass:"title-tis"},[t._v("注册信息")]),i("el-form",{attrs:{model:t.nodeForm,"label-width":"200","label-position":"left"}},[i("el-form-item",{attrs:{label:"用户名:"}},[t._v(" "+t._s(t.nodeForm.userName)+" ")]),t._e(),i("el-form-item",{attrs:{label:"账户类型:"}},[t._v(" "+t._s(t.nodeForm.type?"付费用户":"免费用户")+" ")]),i("el-form-item",{attrs:{label:"密码:"}},[i("el-link",{on:{click:function(e){t.dialogVisible2=!0}}},[t._v("修改密码")])],1),i("el-form-item",{attrs:{label:"充值情况:"}},[t._v(" "+t._s(t.nodeForm.startTime+"至"+t.nodeForm.endTime)),i("el-button",{staticStyle:{"margin-left":"10px",position:"relative",top:"-1px"},attrs:{type:"warning",size:"mini"},on:{click:function(e){return t.obtainVip()}}},[t._v("充值")])],1)],1)],1),i("el-dialog",{staticClass:"dashboard-dialog",attrs:{title:"升级",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"contr-cor"},t._l(t.vipInfoList,(function(e,o){return i("div",{staticClass:"box-web",class:{active:t.active===o},on:{click:function(e){t.active=o}}},[i("h2",{staticClass:"box-web-title"},[t._v(t._s(e.levelName))]),i("p",{staticClass:"box-web-ext"},[t._v(t._s(e.duration)+"天"+t._s(e.amount)+"元")])])})),0),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.obtainVipEt}},[t._v("确 定")])],1)]),i("el-dialog",{staticClass:"dashboard-dialog",attrs:{title:"扫码支付",visible:t.dialogVisible3,width:"400px"},on:{"update:visible":function(e){t.dialogVisible3=e}}},[i("div",{staticClass:"contr-cor",staticStyle:{position:"relative"}},[i("qrcode-vue",{staticStyle:{margin:"0 auto"},attrs:{value:t.codeUrl,size:200,level:"H"}}),i("div",{staticStyle:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",width:"100%",height:"100%",display:"flex","align-items":"center","justify-content":"center"}},[0===t.playType?i("div",{staticStyle:{width:"80px",height:"80px",display:"flex","align-items":"center","justify-content":"center","background-color":"#00aa88","border-radius":"50%"}},[i("i",{staticClass:"el-icon-check",staticStyle:{color:"#FFF","font-size":"60px"}})]):1===t.playType?i("div",{staticStyle:{width:"80px",height:"80px",display:"flex","align-items":"center","justify-content":"center","background-color":"red","border-radius":"50%"}},[i("i",{staticClass:"el-icon-close",staticStyle:{color:"#FFF","font-size":"60px"}})]):t._e()])],1),""!==t.active?i("p",{staticStyle:{"text-align":"center","font-size":"18px",color:"#000",margin:"4px 0"}},[t._v("金额:"+t._s(t.vipInfoList[t.active].amount))]):t._e(),""!==t.active?i("p",{staticStyle:{"text-align":"center","font-size":"18px",color:"#000",margin:"4px 0"}},[t._v(t._s(t.vipInfoList[t.active].duration)+"天")]):t._e(),i("span",{staticClass:"dialog-footer",staticStyle:{display:"none"},attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible3=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible3=!1}}},[t._v("确 定")])],1)]),i("el-dialog",{staticClass:"dashboard-dialog",attrs:{title:"修改密码",visible:t.dialogVisible2,width:"450px"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[i("div",{staticClass:"dashboard-dialog-form"},[i("el-form",{ref:"registered",staticClass:"login-form",attrs:{model:t.registeredForm,rules:t.registeredRules,"auto-complete":"on","label-position":"left"}},[i("el-form-item",{attrs:{prop:"username"}},[i("el-input",{ref:"username",attrs:{placeholder:"手机号、邮箱",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:t.registeredForm.username,callback:function(e){t.$set(t.registeredForm,"username","string"===typeof e?e.trim():e)},expression:"registeredForm.username"}})],1),i("el-form-item",{attrs:{prop:"code"}},[i("el-input",{ref:"username",staticStyle:{width:"63%"},attrs:{placeholder:"请输入验证码",name:"code",type:"number","auto-complete":"on"},model:{value:t.registeredForm.code,callback:function(e){t.$set(t.registeredForm,"code","string"===typeof e?e.trim():e)},expression:"registeredForm.code"}}),i("el-button",{staticStyle:{width:"140px","margin-left":"10px"},attrs:{type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.sendCodeAjax("registeredForm")}}},[t._v("获取验证码"),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"count"},[t._v("("+t._s(t.count)+"s)")])])],1),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{key:t.passwordType,ref:"password",attrs:{type:t.passwordType,placeholder:"登录密码",name:"password",tabindex:"2","auto-complete":"on"},model:{value:t.registeredForm.password,callback:function(e){t.$set(t.registeredForm,"password","string"===typeof e?e.trim():e)},expression:"registeredForm.password"}}),i("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[i("svg-icon",{attrs:{"icon-class":"password"===t.passwordType?"eye":"eye-open"}})],1)],1),i("el-form-item",{attrs:{prop:"repeatPassword"}},[i("el-input",{key:t.passwordType,ref:"password",attrs:{type:t.passwordType,placeholder:"重复登录密码",name:"password",tabindex:"2","auto-complete":"on"},model:{value:t.registeredForm.repeatPassword,callback:function(e){t.$set(t.registeredForm,"repeatPassword","string"===typeof e?e.trim():e)},expression:"registeredForm.repeatPassword"}}),i("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[i("svg-icon",{attrs:{"icon-class":"password"===t.passwordType?"eye":"eye-open"}})],1)],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible2=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.registerAjax("forget","registeredForm")}}},[t._v("确 定")])],1)])],1)},r=[],s=i("5530"),n=i("2f62"),a=i("8dcd"),c=i("61f7"),l=i("9123"),d=(i("d3b7"),i("9179")),u=i("4328"),p=i.n(u);function f(t){var e="/vipinfo/getList?item=".concat((new Date).getTime());return new Promise((function(i,o){d["a"].post(e,{},{"Content-Type":"application/x-www-form-urlencoded"},p.a.stringify(t)||{}).then((function(t){i(t)})).catch((function(t){o(t),new Error(t)}))}))}function m(t){var e="/order/weixinNative";return new Promise((function(i,o){d["a"].post(e,{},{"Content-Type":"application/x-www-form-urlencoded"},p.a.stringify(t)||{}).then((function(t){i(t)})).catch((function(t){o(t),new Error(t)}))}))}function g(t){var e="/order/findOrder";return new Promise((function(i,o){d["a"].post(e,{},{"Content-Type":"application/x-www-form-urlencoded"},p.a.stringify(t)||{}).then((function(t){i(t)})).catch((function(t){o(t),new Error(t)}))}))}function h(t){var e="/platform/vipInfo/getInfo";return new Promise((function(i,o){d["a"].post(e,{},{"Content-Type":"application/x-www-form-urlencoded"},p.a.stringify(t)||{}).then((function(t){i(t)})).catch((function(t){o(t),new Error(t)}))}))}var v=i("5f87"),w=i("d7b0"),b=60,y={name:"Dashboard",computed:Object(s["a"])({},Object(n["b"])(["name"])),data:function(){var t=this,e=function(t,e,i){Object(c["b"])(e)?i():i(new Error("请输入手机号或者邮箱"))},i=function(t,e,i){0===e.length?i(new Error("请输入密码")):i()},o=function(e,i,o){""===i?o(new Error("请再次输入密码")):i!==t.registeredForm.password?o(new Error("两次输入密码不一致!")):o()};return{nodeForm:{userName:"",Email:"22",type:"免费试用版",startTime:"",endTime:""},dialogVisible:!1,dialogVisible2:!1,dialogVisible3:!1,registeredForm:{username:"",password:"",repeatPassword:"",code:"",id:""},registeredRules:{username:[{required:!0,trigger:["blur","change"],validator:e}],code:[{required:!0,trigger:["blur","change"],message:"请输入验证码"}],password:[{required:!0,trigger:["blur","change"],validator:i}],repeatPassword:[{required:!0,trigger:["blur","change"],validator:o}]},passwordType:"password",show:!0,count:"",vipInfoList:[],active:"",playType:null,codeUrl:"",orderId:"",timeName:null}},created:function(){this.getVipInfoList(),this._getInfo()},methods:{obtainVip:function(){var t=this;Object(v["a"])()?this.dialogVisible=!0:this.$confirm("请登录","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$router.push({path:"/login?redirect=".concat(t.$route.path)})})).catch((function(){}))},obtainVipEt:function(){var t=this;""!==this.active?m({amount:this.vipInfoList[this.active].amount,goodsDescription:this.vipInfoList[this.active].duration,goodsId:this.vipInfoList[this.active].id}).then((function(e){t.codeUrl=e.codeUrl,t.orderId=e.orderId;var i=setTimeout((function(){clearTimeout(i),t.dialogVisible3=!0,t.pollingPay()}),20)})).catch((function(e){console.log(e),t.$confirm(e,"错误",{confirmButtonText:"确定",type:"error"})})):this.dialogVisible=!1},pollingPay:function(){var t=this;clearTimeout(this.timeName),this.timeName=setTimeout((function(){g({id:t.orderId}).then((function(e){console.log(e),"PAY_FINAL_SUCCESS"===e.state?(t.playType=0,setTimeout((function(){window.location.reload()}),2e3)):"PAY_FINAL_FAIL"===e.state?t.playType=1:t.dialogVisible3&&t.pollingPay()}))}),2e3)},showPwd:function(){var t=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){t.$refs.password.focus()}))},sendCodeAjax:function(t){var e=this;Object(c["b"])(this[t].username)&&(this.timer||(this.count=b,this.show=!1,this.timer=setInterval((function(){e.count>0&&e.count<=b?e.count--:(e.show=!0,clearInterval(e.timer),e.timer=null)}),1e3),Object(l["a"])({account:this[t].username,type:1}).then((function(i){200===i.code&&(e[t].id=i.id)}))))},registerAjax:function(t,e){var i=this;this.$refs.registered.validate((function(o){if(!o)return i.loading=!1,!1;i.$store.dispatch("user/".concat(t),i[e]).then((function(){i.$router.push({path:i.redirect||"/"}),i.loading=!1})).catch((function(){i.loading=!1}))}))},getVipInfoList:function(){var t=this;f().then((function(e){console.log(e),200===e.code&&(t.vipInfoList=e.data)}))},_getInfo:function(){var t=this;h().then((function(e){console.log(e),200===e.code&&(t.nodeForm=e.data)}))}},components:{wtHeader:a["a"],QrcodeVue:w["a"]}},x=y,_=(i("baaa"),i("2877")),F=Object(_["a"])(x,o,r,!1,null,"6286e2e7",null);e["default"]=F.exports},baaa:function(t,e,i){"use strict";var o=i("2754"),r=i.n(o);r.a},bed8:function(t,e,i){},c377:function(t,e,i){"use strict";var o=i("bed8"),r=i.n(o);r.a}}]);