(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c6f0759"],{1832:function(t,e,n){},"1d14":function(t,e,n){"use strict";var i=n("6475"),a=n.n(i);a.a},"3ade":function(t,e,n){"use strict";var i=n("6220"),a=n.n(i);a.a},"3cc1":function(t,e,n){"use strict";var i=n("8b93"),a=n.n(i);a.a},"5feb":function(t,e,n){"use strict";var i=n("9577"),a=n.n(i);a.a},6220:function(t,e,n){},6475:function(t,e,n){},6615:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("d3b7");var i=n("9179"),a=n("4328"),s=n.n(a);function r(t){var e="/feedback/random/info";return new Promise((function(n,a){i["a"].post(e,{},{"Content-Type":"application/x-www-form-urlencoded"},s.a.stringify(t)||{}).then((function(t){n(t)})).catch((function(t){a(t),new Error(t)}))}))}},"7b6c":function(t,e,n){"use strict";var i=n("b3ff"),a=n.n(i);a.a},"7d53":function(t,e,n){"use strict";var i=n("c6fd"),a=n.n(i);a.a},"8ac2":function(t,e,n){},"8b93":function(t,e,n){},9577:function(t,e,n){},"97f4":function(t,e,n){"use strict";var i=n("1832"),a=n.n(i);a.a},b346:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}));n("7db0"),n("b64b"),n("ac1f"),n("1276");function i(t){return Object.keys(t).length}function a(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function s(t){var e="",n="";try{var i=t.split(".");e=i[i.length-1]}catch(p){e=""}if(!e)return!1;e=e.toLocaleLowerCase();var a=["png","jpg","jpeg","bmp","gif"];if(n=a.find((function(t){return t===e})),n)return"image";var s=["txt"];if(n=s.find((function(t){return t===e})),n)return"txt";var r=["xls","xlsx"];if(n=r.find((function(t){return t===e})),n)return"excel";var o=["doc","docx"];if(n=o.find((function(t){return t===e})),n)return"word";var c=["pdf"];if(n=c.find((function(t){return t===e})),n)return"pdf";var l=["ppt","pptx"];if(n=l.find((function(t){return t===e})),n)return"ppt";var u=["mp4","m2v","mkv","rmvb","wmv","avi","flv","mov","m4v"];if(n=u.find((function(t){return t===e})),n)return"video";var m=["mp3","wav","wmv"];return n=m.find((function(t){return t===e})),n?"radio":"other"}},b3ff:function(t,e,n){},b719:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{backgroundColor:t.screenColor,fontSize:t.fontSize+"px",color:t.fontColor+"!important"},attrs:{id:"answer"}},[n("div",{staticClass:"cot-all-wer",class:(t.whetherFullScreen,"full-screen-wer")},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isFullscreen,expression:"isFullscreen"}],ref:"notClick",staticStyle:{position:"absolute",right:"40px"},attrs:{type:"primary"},on:{click:function(e){return t.cancelFullScreen(e)}}},[t._v("取消全屏")]),n("allTimeStatistics",{ref:"allTimeSta",staticStyle:{display:"none"}}),"YES"===t.yesOrNoViewProgressBar?n("el-progress",{staticStyle:{width:"30%",margin:"0 auto"},attrs:{"text-inside":!0,"stroke-width":24,"stroke-linecap":"butt",percentage:t.percentage,status:"success"}}):t._e(),n("div",{staticClass:"answer-article",class:"FULL_SCREEN"===t.whetherFullScreen?"full-screen":"not-full-screen"},["isFullScreen"===t.pageStatus?n("div",{staticStyle:{overflow:"hidden"}},[n("h2",{staticStyle:{"text-align":"center","margin-top":"70px"}},[t._v("请选择是否全屏")]),n("div",{staticStyle:{"text-align":"center"}},[n("el-button",{ref:"oktClick",attrs:{type:"primary"},on:{click:function(e){return t.enterFullScreen(e)}}},[t._v("进入全屏")]),n("el-button",{attrs:{type:"primary"},on:{click:t.enterGuide}},[t._v("不进入全屏")])],1)]):t._e(),"instruction"===t.pageStatus?[n("instruction",{attrs:{instruction:t.instructionData.instruction,"experiment-name":t.instructionData.experimentName}}),n("div",{staticClass:"button-webr",staticStyle:{"text-align":"center"}},[n("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.switchTypeNext(e)}}},[t._v("我已阅读完毕并准备开始试验"),t.instructionDuration?n("span",[t._v("("+t._s(t.instructionDuration)+")")]):t._e()])],1)]:t._e(),"userInfo"===t.pageStatus?n("userInformationCollection",{attrs:{"participant-basic-info":t.participantBasicInfo,"font-size":+t.fontSize},on:{endFillIn:t.endFillIn}}):t._e(),"answer"===t.pageStatus?[n("answerPackage",{staticStyle:{height:"calc(100vh - 184px)",display:"flex","align-items":"center"},attrs:{"feedback-experiment-stimulate":t.feedbackExperimentStimulate},on:{endOfAnswer:t.endOfAnswer,answerIndex:t.answerIndex}})]:t._e(),"conclusion"===t.pageStatus?[n("conclusion",{attrs:{conclusion:t.conclusion}}),n("div",{staticClass:"button-webr",staticStyle:{"text-align":"center"}},[n("el-button",{attrs:{type:"primary",disabled:t.locking},nativeOn:{click:function(e){return t.submitAnAnswer(e)}}},[t._v("提交答案"),"FIXED_DURATION"===t.conclusionType?n("span",[t._v("("+t._s(t.conclusionDurationTxt)+")")]):t._e()])],1)]:t._e()],2)],1)])},a=[],s=(n("4160"),n("ac1f"),n("1276"),n("159b"),n("5530")),r=n("6615"),o=(n("d3b7"),n("9179"));function c(t){var e="/my/data/saveAndEdit";return new Promise((function(n,i){o["a"].post(e,{},{},t||{}).then((function(t){n(t)})).catch((function(t){i(t),new Error(t)}))}))}var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"instruction"}},[n("h2",{staticClass:"collapse-title"},[n("span",[t._v(t._s(t.experimentName))])]),n("div",{attrs:{id:"html-centent"},domProps:{innerHTML:t._s(t.instruction)}})])},u=[],m={name:"instruction",data:function(){return{activeNames:["1"]}},props:{instruction:{type:String,default:""},experimentName:{type:String,default:""}}},p=m,d=p,h=(n("1d14"),n("2877")),f=Object(h["a"])(d,l,u,!1,null,"0a6e1683",null),_=f.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"all-time-statistics"}},[n("span",[t._v("开始时间:"+t._s(t.dayjs(t.startingTime).format("YYYY-MM-DD HH:mm").split(" ")[1]))]),n("span",{staticStyle:{"margin-left":"10px"}},[t._v("用时: "+t._s(t.timeCostText))])])},T=[],w=(n("99af"),n("5a0c")),v=n.n(w),g={name:"allTimeStatistics",data:function(){return{startingTime:(new Date).getTime(),endtingTime:(new Date).getTime(),timeCost:{},timeOut:null}},computed:{timeCostText:function(){var t=this.timeCost,e=t.day,n=t.hours,i=t.minutes,a=t.seconds;return"".concat(e?"".concat(e,"天 "):"").concat(n?"".concat(n,"小时 "):"").concat(i?"".concat(i,"分钟 "):"0 分钟").concat(a?" ".concat(a," 秒"):" 0 秒")}},created:function(){var t=this;this.init(),this.$once("hook:beforeDestroy",(function(){clearTimeout(t.timeOut)}))},methods:{init:function(){this.timing()},dayjs:v.a,timing:function(){var t=this;this.timeOut=setTimeout((function(){clearTimeout(t.timeOut),t.timing(),t.updateTime()}),1e3)},updateTime:function(){this.endtingTime=(new Date).getTime();var t=(new Date).getTime()-this.startingTime;this.formatDuring(t)},formatDuring:function(t){var e=parseInt(t/864e5),n=parseInt(t%864e5/36e5),i=parseInt(t%36e5/6e4),a=parseInt(t%6e4/1e3);this.timeCost={day:e,hours:n,minutes:i,seconds:a}}}},E=g,C=(n("c92a"),Object(h["a"])(E,y,T,!1,null,"8b4180ee",null)),b=C.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"answer-package"}},[t._l(t.topicList,(function(e,i){return[t.index===i?n(t.comName(e.buttonType),{key:e.id,tag:"component",attrs:{item:e,index:i},on:{clickAnswer:t.clickAnswer}}):t._e()]}))],2)},O=[],S=n("2909"),D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"package-wer button-with-options"},[n("answerTitleModel",{on:{playerEnded:t.playerEnded}}),t.isStimulateOptions?[t.buttonContent.length?n("div",{staticClass:"button-webr-out"},[t._l(t.buttonContent,(function(e,i){return[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.selectEnd(),t.setAnswerData(i)}}},[t._v(t._s(e.name))])]}))],2):t._e(),"TEXT"===t.item.stimulateType?n("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.item.trialName))]):t._e()]:t._e(),"WITH_FEEDBACK"===t.rely.experimentType&&t.isLogic?n("pup-ots-ut",{attrs:{"answer-end-time":t.answerEndTime,answer:t.answer},on:{"update:answerEndTime":function(e){t.answerEndTime=e},"update:answer-end-time":function(e){t.answerEndTime=e},nextAnts:t.pupAppearStartCount}}):t._e(),t.appear?n("pupOutAppear",{ref:"pupAppear",attrs:{item:t.item},on:{endCountdown:t.updateAnswer,betweenContentTime:t.setBetweenContent}}):t._e()],2)},k=[],I=(n("b0c0"),n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pup-out-appear",staticStyle:{"z-index":"10000"},style:{backgroundColor:t.rely.screenColor}},["CROSS_GAZE"===t.item.trialContentType?n("i",{staticClass:"el-icon-plus"}):t._e()])}),A=[],N=n("b346"),F=n("da92");function L(t,e,n){var i=t,a=setInterval((function(){i=F["a"].minus(i,1),n&&n(i),i<=0&&clearInterval(a)}),e)}var U={name:"pupOutAppear",inject:["rely"],data:function(){return{timeNumber:6e3}},props:{item:{type:Object,default:function(){return{}}}},methods:{startCountdown:function(){var t=this;"FIXED_DURATION"===this.item.presentType?this.timeNumber=(+this.item.presentDuration||6e3)/1e3:"PERIOD"===this.item.presentType&&(this.timeNumber=Object(N["a"])(+this.item.leastDuration||1e3,+this.item.longestDuration||2e3)/1e3),this.$emit("betweenContentTime",1e3*this.timeNumber),L(this.timeNumber,1e3,(function(e){t.timeNumber=e,e<=0&&t.$emit("endCountdown")}))}}},M=U,P=Object(h["a"])(M,I,A,!1,null,"b478111c",null),$=P.exports,R=n("ed38"),B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pup-ots-ut pup-out-appear",staticStyle:{"z-index":"10000"},style:{backgroundColor:t.rely.screenColor}},["TEXT"===t.type?n("span",[t._v(t._s(t.text))]):"IMG"===t.type?t._l(t.url,(function(e){return n("img",{staticStyle:{height:"auto",margin:"30px"},style:{maxWidth:100/t.url.length+"%"},attrs:{src:""+t.urlRoot+e.path}})})):t._e(),"AUDIO_AND_VIDEO"===t.type?n("div",{staticClass:"package-wer-video",staticStyle:{width:"40%","max-width":"690px"}},[n("payVideo",{ref:"payVideo",attrs:{url:t.url},on:{playerEnded:t.playerEnded}})],1):t._e()],2)},j=[],K=n("cc37"),W=K["a"],X=(n("97f4"),Object(h["a"])(W,B,j,!1,null,"a4178eb6",null)),V=X.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["TEXT"===t.nextTitle.item.stimulateType?n("h2",{staticClass:"package-wer-title"},[t._v(t._s(t.nextTitle.item.stimulateContentName))]):n("h2",{staticClass:"package-wer-title"},[t._v(t._s(t.nextTitle.item.trialName))]),"IMG"===t.nextTitle.item.stimulateType&&"MOUSE_AND_MOUSE_TRACK"!==t.nextTitle.item.buttonType?n("div",{staticClass:"package-wer-img",class:[t.nextTitle.item.positionType,JSON.parse(t.nextTitle.item.stimulateContentUrl||"[]").length?"":"only-img"]},t._l(JSON.parse(t.nextTitle.item.stimulateContentUrl||"[]"),(function(e){return n("img",{style:{maxWidth:100/JSON.parse(t.nextTitle.item.stimulateContentUrl||"[]").length+"%"},attrs:{src:""+t.urlRoot+e.path}})})),0):t._e(),"AUDIO_AND_VIDEO"===t.nextTitle.item.stimulateType?n("div",{staticClass:"package-wer-video"},[n("payVideo",{ref:"payVideo",attrs:{url:t.nextTitle.item.stimulateContentUrl},on:{playerEnded:t.playerEnded}})],1):t._e()])},G=[],q=n("c302"),J={name:"answerTitleModel",inject:["nextTitle"],data:function(){return{urlRoot:q["a"]}},components:{payVideo:R["a"]},created:function(){console.log(this.nextTitle.item)},methods:{playerEnded:function(){this.$emit("playerEnded")}}},H=J,Y=Object(h["a"])(H,z,G,!1,null,"777b42ce",null),Z=Y.exports,Q={inject:["rely"],components:{pupOutAppear:$,payVideo:R["a"],pupOtsUt:V,answerTitleModel:Z},data:function(){return{urlRoot:q["a"],buttonContent:[],answerStartingTime:(new Date).getTime(),appear:!1,timeTie:null,timeNumber:0,sources:[],countdown:0,isCountdown:!0,isLogic:!1,answerEndTime:0,indexNext:null,isStimulateOptions:!1,answer:"",reactionPresentType:"FIXED_DURATION",betweenContentTime:0,setrTime:0}},provide:function(){return{nextLogic:{answerStartingTime:this.answerStartingTime,experimentalLogicType:this.item.experimentalLogicType,experimentalLogicContent:this.item.experimentalLogicContent},nextTitle:{item:this.item,index:this.index}}},props:{item:{type:Object,default:function(){return{}}},index:{type:Number,default:0}},created:function(){var t=this;if(console.log("rely",this.rely),this.reactionPresentType=this.item.reactionPresentType,"NO"===this.rely.yesOrNoShowFirstStimulate)this.isStimulateOptions=!0,this.initFeedback();else var e=setTimeout((function(){clearTimeout(e),t.isStimulateOptions=!0,t.initFeedback()}),3e3)},methods:{initFeedback:function(){var t=this;if("FIXED_DURATION"===this.reactionPresentType)this.countdown=(+this.item.specifyTheReactionTime||6e3)/1e3;else if("PERIOD"===this.reactionPresentType)this.countdown=Object(N["a"])(+this.item.reactionLeastDuration||1e3,+this.item.reactionLongestDuration||6e3)/1e3;else if("WAITING_FOR_COMPLETION"===this.reactionPresentType)return;0!==this.countdown?L(this.countdown,1e3,(function(e){t.countdown=e,e<=0&&t.isCountdown&&t.isExperimentType()})):this.isExperimentType()},selectEnd:function(){this.answerEndTime=(new Date).getTime(),this.$refs.payVideo&&this.$refs.payVideo.payerPause(),"NO"===this.rely.immediatelyOver?"WAITING_FOR_COMPLETION"===this.item.reactionPresentType?this.isExperimentType():(this.isStimulateOptions=!1,console.log(1)):(this.isCountdown=!1,"WAITING_FOR_COMPLETION"===this.item.reactionPresentType||(console.log(this.item),this.isStimulateOptions=!1),this.isExperimentType())},isExperimentType:function(){this.answerEndTime=(new Date).getTime(),"WITH_FEEDBACK"===this.rely.experimentType?this.isLogic=!0:this.pupAppearStartCount()},pupAppearStartCount:function(){var t=this;this.appear=!0,this.isCountdown=!1,this.betweenContentTime=(new Date).getTime()-this.rely.nodeTime,setTimeout((function(){t.$refs.pupAppear.startCountdown()}),20)},setBetweenContent:function(t){},playerEnded:function(){}},watch:{}},tt={name:"buttonWithOptions",mixins:[Q],props:{},data:function(){return{}},created:function(){this.buttonContent=JSON.parse(this.item.buttonContent)},methods:{setAnswerData:function(t){this.indexNext=t,this.answer=this.buttonContent[this.indexNext]?this.buttonContent[this.indexNext].name:"",console.log(this.answer)},updateAnswer:function(){this.$emit("clickAnswer",{type:"BUTTON_WITH_OPTIONS",data:{title:"TEXT"===this.item.stimulateType?this.item.stimulateContentName:this.item.trialName,answer:this.answer,answerStartingTime:this.answerStartingTime,answerEndTime:this.answerEndTime,allAnswerTime:(new Date).getTime(),id:this.item.id,trialContentType:this.item.trialContentType,betweenContentTime:this.betweenContentTime}})}},components:{}},et=tt,nt=et,it=Object(h["a"])(nt,D,k,!1,null,"5aa46a22",null),at=it.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"package-wer key-board"},[n("answerTitleModel",{on:{playerEnded:t.playerEnded}}),t.buttonContent.length&&t.isStimulateOptions?n("div",{staticClass:"button-webr-out"},[t._l(t.buttonContent,(function(e,i){return[n("div",{ref:e.keyUp+"Key",refInFor:!0,staticClass:"fan-but",attrs:{"data-id":i}},[t._v(t._s(e.keyUp)+":"+t._s(e.name))])]})),"TEXT"===t.item.stimulateType?n("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.item.trialName))]):t._e()],2):t._e(),"WITH_FEEDBACK"===t.rely.experimentType&&t.isLogic?n("pup-ots-ut",{attrs:{"answer-end-time":t.answerEndTime,answer:t.answer},on:{"update:answerEndTime":function(e){t.answerEndTime=e},"update:answer-end-time":function(e){t.answerEndTime=e},nextAnts:t.pupAppearStartCount}}):t._e(),t.appear?n("pupOutAppear",{ref:"pupAppear",attrs:{item:t.item},on:{endCountdown:t.updateAnswer,betweenContentTime:t.setBetweenContent}}):t._e()],1)},rt=[],ot={name:"keyBoard",mixins:[Q],props:{},data:function(){return{}},created:function(){var t=this;this.buttonContent=JSON.parse(this.item.buttonContent),window.addEventListener("keyup",this.chengKeyUp,!1),window.addEventListener("keydown",this.chengKeyDown,!1),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("keyup",t.chengKeyUp,!1),window.removeEventListener("keydown",t.chengKeyDown,!1)}),!1)},methods:{chengKeyDown:function(t){var e=this.$refs["".concat(t.key,"Key")];e?(this.enterKey=t.key,e[0].classList.contains("hover-but-clst")||e[0].classList.add("hover-but-clst")):this.enterKey=""},chengKeyUp:function(t){if(this.enterKey){var e=this.$refs["".concat(this.enterKey,"Key")];e[0].classList.remove("hover-but-clst"),this.selectEnd(),this.setAnswerData(e[0].getAttribute("data-id"))}},setAnswerData:function(t){this.indexNext=t,this.answer=this.buttonContent[t]?this.buttonContent[t].keyUp:"",console.log(this.answer)},updateAnswer:function(){var t=this.buttonContent[this.indexNext]?this.buttonContent[this.indexNext].keyUp:"",e=this.buttonContent[this.indexNext]?this.buttonContent[this.indexNext].name:"";this.$emit("clickAnswer",{type:"KEYBOARD",data:{title:"TEXT"===this.item.stimulateType?this.item.stimulateContentName:this.item.trialName,answer:"".concat(t,",").concat(e),answerStartingTime:this.answerStartingTime,answerEndTime:this.answerEndTime,id:this.item.id,allAnswerTime:(new Date).getTime(),trialContentType:this.item.trialContentType,betweenContentTime:this.betweenContentTime}})}}},ct=ot,lt=ct,ut=(n("7b6c"),Object(h["a"])(lt,st,rt,!1,null,"4a091bfc",null)),mt=ut.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"package-wer key-board"},[n("answerTitleModel",{on:{playerEnded:t.playerEnded}}),t.isStimulateOptions?[n("div",{staticClass:"button-webr-out",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[n("span",{staticStyle:{"margin-right":"6px"}},[t._v(t._s(t.buttonContent.min))]),n("el-slider",{staticStyle:{width:"72%",display:"inline-block","vertical-align":"top",margin:"0 10px"},attrs:{min:+t.buttonContent.min,max:+t.buttonContent.max,"show-tooltip":!0},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),n("span",[t._v(t._s(t.buttonContent.max))])],1),n("div",{staticStyle:{"text-align":"center"}},["TEXT"===t.item.stimulateType?n("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.item.trialName))]):t._e(),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.selectEnd()}}},[t._v("确定")])],1)]:t._e(),"WITH_FEEDBACK"===t.rely.experimentType&&t.isLogic?n("pup-ots-ut",{attrs:{"answer-end-time":t.answerEndTime,answer:t.value},on:{"update:answerEndTime":function(e){t.answerEndTime=e},"update:answer-end-time":function(e){t.answerEndTime=e},nextAnts:t.pupAppearStartCount}}):t._e(),t.appear?n("pupOutAppear",{ref:"pupAppear",attrs:{item:t.item},on:{endCountdown:t.updateAnswer,betweenContentTime:t.setBetweenContent}}):t._e()],2)},dt=[],ht={name:"slider",mixins:[Q],props:{},data:function(){return{value:0}},created:function(){this.buttonContent=JSON.parse(this.item.buttonContent),this.buttonContent.min&&(this.value=+this.buttonContent.min)},methods:{updateAnswer:function(){this.$emit("clickAnswer",{type:"SLIDER",data:{title:"TEXT"===this.item.stimulateType?this.item.stimulateContentName:this.item.trialName,answer:this.value,answerStartingTime:this.answerStartingTime,answerEndTime:this.answerEndTime,allAnswerTime:(new Date).getTime(),id:this.item.id,trialContentType:this.item.trialContentType,betweenContentTime:this.betweenContentTime}})}}},ft=ht,_t=ft,yt=Object(h["a"])(_t,pt,dt,!1,null,"1bf64ed9",null),Tt=yt.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"package-wer text-input-so"},[n("answerTitleModel",{on:{playerEnded:t.playerEnded}}),t.isStimulateOptions?[n("div",{staticClass:"button-webr-out",staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),n("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},["TEXT"===t.item.stimulateType?n("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.item.trialName))]):t._e(),n("el-button",{attrs:{type:"primary"},on:{click:t.selectEnd}},[t._v("确定")])],1)]:t._e(),"WITH_FEEDBACK"===t.rely.experimentType&&t.isLogic?n("pup-ots-ut",{attrs:{"answer-end-time":t.answerEndTime,answer:t.value},on:{"update:answerEndTime":function(e){t.answerEndTime=e},"update:answer-end-time":function(e){t.answerEndTime=e},nextAnts:t.pupAppearStartCount}}):t._e(),t.appear?n("pupOutAppear",{ref:"pupAppear",attrs:{item:t.item},on:{endCountdown:t.updateAnswer,betweenContentTime:t.setBetweenContent}}):t._e()],2)},vt=[],gt={name:"textInput",mixins:[Q],props:{},data:function(){return{value:""}},created:function(){},methods:{updateAnswer:function(){this.$emit("clickAnswer",{type:"TEXT_INPUT",data:{title:"TEXT"===this.item.stimulateType?this.item.stimulateContentName:this.item.trialName,answer:this.value,answerStartingTime:this.answerStartingTime,answerEndTime:this.answerEndTime,allAnswerTime:(new Date).getTime(),id:this.item.id,trialContentType:this.item.trialContentType,betweenContentTime:this.betweenContentTime}})}}},Et=gt,Ct=Et,bt=Object(h["a"])(Ct,wt,vt,!1,null,"cefdf05e",null),xt=bt.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"package-wer mouse-and-mouse-track"},[n("answerTitleModel",{on:{playerEnded:t.playerEnded}}),n("div",{ref:"trackDom",staticClass:"button-webr-out",staticStyle:{display:"flex","align-items":"baseline","justify-content":"center","min-height":"500px","margin-top":"0"},on:{click:function(e){t.selectEnd(),t.setAnswerData()}}},["IMG"===t.item.stimulateType?n("div",{staticClass:"package-wer-img",class:[t.item.positionType,JSON.parse(t.item.stimulateContentUrl||"[]").length?"":"only-img"],staticStyle:{height:"calc(100vh - 350px)"}},t._l(JSON.parse(t.item.stimulateContentUrl||"[]"),(function(e){return n("img",{style:{maxWidth:100/JSON.parse(t.item.stimulateContentUrl||"[]").length+"%"},attrs:{src:""+t.urlRoot+e.path}})})),0):t._e()]),t.isStimulateOptions?n("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},["TEXT"===t.item.stimulateType?n("p",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.item.trialName))]):t._e(),n("el-button",{attrs:{type:"primary"},on:{click:t.startMoving}},[t._v("开始")])],1):t._e(),"WITH_FEEDBACK"===t.rely.experimentType&&t.isLogic?n("pup-ots-ut",{attrs:{"answer-end-time":t.answerEndTime,answer:t.answer},on:{"update:answerEndTime":function(e){t.answerEndTime=e},"update:answer-end-time":function(e){t.answerEndTime=e},nextAnts:t.pupAppearStartCount}}):t._e(),t.appear?n("pupOutAppear",{ref:"pupAppear",attrs:{item:t.item},on:{betweenContentTime:t.setBetweenContent,endCountdown:t.updateAnswer}}):t._e()],1)},St=[],Dt=(n("fb6a"),{name:"mouseAndMouseTrack",mixins:[Q],props:{},data:function(){return{value:"",isMove:!1,pageX:0,pageY:0,itrmTim:null,tracks:[],isTracks:!0,isClick:!1}},created:function(){var t=this;this.buttonContent=JSON.parse(this.item.buttonContent),console.log(this.buttonContent);var e=setTimeout((function(){clearTimeout(e),document.addEventListener("mousemove",t.mousemoveEvent,!1),t.$refs.trackDom.addEventListener("mouseover",t.mouseoEvent,!1),t.$refs.trackDom.addEventListener("mouseout",t.mouseoEvent,!1)}),20);this.$once("hook:beforeDestroy",(function(){document.removeEventListener("mousemove",t.mousemoveEvent,!1),t.$refs.trackDom.removeEventListener("mouseover",t.mouseoEvent,!1),t.$refs.trackDom.removeEventListener("mouseout",t.mouseoEvent,!1)}))},methods:{startMoving:function(){this.isClick=!0,this.initTimeout()},mouseoEvent:function(t){var e=t.type;this.isMove="mouseover"===e},mousemoveEvent:function(t){var e=t.pageX,n=t.pageY;this.pageX=e,this.pageY=n},initTimeout:function(){var t=this;this.itrmTim=setTimeout((function(){clearTimeout(t.itrmTim);var e=t.tracks.slice(-1)[0];(e&&e.x!==t.pageX&&e.y!==t.pageY||!e)&&t.tracks.push({x:t.pageX,y:t.pageY,time:(new Date).getTime()}),t.isTracks&&t.initTimeout()}),100)},setAnswerData:function(){this.isClick&&(clearTimeout(this.itrmTim),this.isTracks=!1)},updateAnswer:function(){this.$emit("clickAnswer",{type:"MOUSE_AND_MOUSE_TRACK",data:{title:"TEXT"===this.item.stimulateType?this.item.stimulateContentName:this.item.trialName,answer:this.tracks,answerStartingTime:this.answerStartingTime,answerEndTime:this.answerEndTime,allAnswerTime:(new Date).getTime(),id:this.item.id,trialContentType:this.item.trialContentType,betweenContentTime:this.betweenContentTime}})}}}),kt=Dt,It=kt,At=Object(h["a"])(It,Ot,St,!1,null,"2e4b4487",null),Nt=At.exports,Ft={name:"answerPackage",data:function(){return{topicList:[],butType:{BUTTON_WITH_OPTIONS:"buttonWithOptions",KEYBOARD:"keyBoard",SLIDER:"slider",TEXT_INPUT:"textInput",MOUSE_AND_MOUSE_TRACK:"mouseAndMouseTrack"},index:0,answers:[]}},props:{feedbackExperimentStimulate:{type:Array,default:function(){return[]}}},created:function(){this.feedbackExperimentStimulate.length&&(this.topicList=Object(S["a"])(this.feedbackExperimentStimulate))},methods:{comName:function(t){return this.butType[t]||""},clickAnswer:function(t){console.log(t),this.answers.push(t),this.topicList.length-1>this.index?this.index++:this.$emit("endOfAnswer",this.answers)}},components:{buttonWithOptions:at,keyBoard:mt,slider:Tt,textInput:xt,mouseAndMouseTrack:Nt},watch:{feedbackExperimentStimulate:{handler:function(t){this.topicList=Object(S["a"])(t)},deep:!0},index:function(t){this.$emit("answerIndex",t)}}},Lt=Ft,Ut=Lt,Mt=(n("c52d"),Object(h["a"])(Ut,x,O,!1,null,"249ee93c",null)),Pt=Mt.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"conclusion"},[n("h2",[t._v("结束语")]),n("div",{attrs:{id:"html-centent"},domProps:{innerHTML:t._s(t.conclusion)}})])},Rt=[],Bt={name:"conclusion",data:function(){return{}},props:{conclusion:{type:String,default:""}}},jt=Bt,Kt=jt,Wt=(n("7d53"),Object(h["a"])(Kt,$t,Rt,!1,null,"6c4d749d",null)),Xt=Wt.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{width:"50%",margin:"0 auto"},attrs:{id:"user-information-collection"}},[n("div",{staticStyle:{height:"10px"}}),t.participantBasicInfo.indexOf("name")>-1?n("div",{staticClass:"diff-dom"},[n("span",{staticClass:"title-span"},[t._v("姓名")]),n("el-input",{attrs:{placeholder:"请输入您的姓名",size:"medium"},model:{value:t.userInformationCollectionData.name,callback:function(e){t.$set(t.userInformationCollectionData,"name","string"===typeof e?e.trim():e)},expression:"userInformationCollectionData.name"}})],1):t._e(),t.participantBasicInfo.indexOf("age")>-1?n("div",{staticClass:"diff-dom"},[n("span",{staticClass:"title-span"},[t._v("年龄")]),n("el-input",{attrs:{placeholder:"请输入您的年龄",size:"medium",onKeypress:"return (/[\\d]/.test(String.fromCharCode(event.keyCode)))"},model:{value:t.userInformationCollectionData.age,callback:function(e){t.$set(t.userInformationCollectionData,"age","string"===typeof e?e.trim():e)},expression:"userInformationCollectionData.age"}})],1):t._e(),t.participantBasicInfo.indexOf("sex")>-1?n("div",{staticClass:"diff-dom"},[n("span",{staticClass:"title-span"},[t._v("性别")]),n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.userInformationCollectionData.sex,callback:function(e){t.$set(t.userInformationCollectionData,"sex",e)},expression:"userInformationCollectionData.sex"}},[n("el-option",{attrs:{value:"男"}}),n("el-option",{attrs:{value:"女"}}),n("el-option",{attrs:{value:"无性别"}})],1)],1):t._e(),t.participantBasicInfo.indexOf("yearsOfEducation")>-1?n("div",{staticClass:"diff-dom"},[n("span",{staticClass:"title-span"},[t._v("受教育年限")]),n("el-input",{attrs:{placeholder:"请输入您的受教育年限或者学历",size:"medium"},model:{value:t.userInformationCollectionData.yearsOfEducation,callback:function(e){t.$set(t.userInformationCollectionData,"yearsOfEducation","string"===typeof e?e.trim():e)},expression:"userInformationCollectionData.yearsOfEducation"}})],1):t._e(),t.participantBasicInfo.indexOf("sexualOrientation")>-1?n("div",{staticClass:"diff-dom"},[n("span",{staticClass:"title-span"},[n("span",[t._v("请选择一下选项来表明自己的性取向")]),n("span",{staticStyle:{display:"inherit",color:"#757575"},style:{fontSize:t.fontSize-2+"px"}},[t._v("(完全保密，仅用于研究，请放心填写.)")])]),n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.userInformationCollectionData.sexualOrientation,callback:function(e){t.$set(t.userInformationCollectionData,"sexualOrientation",e)},expression:"userInformationCollectionData.sexualOrientation"}},[n("el-option",{attrs:{value:"完全异性恋"}}),n("el-option",{attrs:{value:"主要为异性恋，只是偶有同性恋行为"}}),n("el-option",{attrs:{value:"主要为异性恋，但也有同性恋行为"}}),n("el-option",{attrs:{value:"异性恋与同性恋倾向相同"}}),n("el-option",{attrs:{value:"主要为同性恋爱，但也有异性恋行为"}}),n("el-option",{attrs:{value:"主要为同性恋爱，只偶尔有异性恋行为"}}),n("el-option",{attrs:{value:"完全同性恋"}}),n("el-option",{attrs:{value:"无性恋"}})],1)],1):t._e(),t.participantBasicInfo.indexOf("height")>-1?n("div",{staticClass:"diff-dom"},[n("span",{staticClass:"title-span"},[t._v("身高")]),n("el-input",{attrs:{placeholder:"请输入您的身高(cm)",size:"medium",onKeypress:"return (/[\\d]/.test(String.fromCharCode(event.keyCode)))"},model:{value:t.userInformationCollectionData.height,callback:function(e){t.$set(t.userInformationCollectionData,"height","string"===typeof e?e.trim():e)},expression:"userInformationCollectionData.height"}})],1):t._e(),t.participantBasicInfo.indexOf("bodyWeight")>-1?n("div",{staticClass:"diff-dom"},[n("span",{staticClass:"title-span"},[t._v("体重")]),n("el-input",{attrs:{placeholder:"请输入您的体重(kg)",size:"medium",onKeypress:"return (/[\\d]/.test(String.fromCharCode(event.keyCode)))"},model:{value:t.userInformationCollectionData.bodyWeight,callback:function(e){t.$set(t.userInformationCollectionData,"bodyWeight","string"===typeof e?e.trim():e)},expression:"userInformationCollectionData.bodyWeight"}})],1):t._e(),n("div",{staticStyle:{"text-align":"center"}},[n("el-button",{attrs:{type:"primary"},on:{click:t.emitUpdate}},[t._v("填写完成")])],1)])},zt=[],Gt={name:"userInformationCollection",data:function(){return{userInformationCollectionData:{name:"",sex:"",age:"",yearsOfEducation:"",sexualOrientation:"",height:"",bodyWeight:""}}},props:{participantBasicInfo:{type:Array,default:function(){return[]}},fontSize:{type:Number,default:14}},methods:{emitUpdate:function(){var t=this,e=this.participantBasicInfo,n=[];e.forEach((function(e){t.userInformationCollectionData[e]&&n.push(t.userInformationCollectionData[e])})),n.length===e.length?this.$emit("endFillIn",this.userInformationCollectionData):alert("请填写完整的用户信息！")}},watch:{}},qt=Gt,Jt=qt,Ht=(n("3ade"),Object(h["a"])(Jt,Vt,zt,!1,null,"967cb054",null)),Yt=Ht.exports,Zt=null,Qt={name:"answer",data:function(){return{infoId:"",whetherFullScreen:"FULL_SCREEN",instructionData:{instruction:"",experimentName:""},conclusion:"",feedbackExperimentStimulate:[],pageStatus:"isFullScreen",stimulateType:"TEXT",rely:{stimulateType:"TEXT",experimentType:"NO_FEEDBACK",immediatelyOver:"NO",yesOrNoShowFirstStimulate:"NO",nodeTime:0,screenColor:"#FFF"},answer:[],instructionDuration:0,conclusionDuration:0,conclusionDurationTxt:0,conclusionType:"FIXED_DURATION",locking:!1,percentage:100,screenColor:"#FFF",fontSize:"14",fontColor:"#000",yesOrNoViewProgressBar:"NO",participantBasicInfo:[],participantBasicInfoData:{name:"",sex:"",age:"",yearsOfEducation:"",height:"",sexualOrientation:"",bodyWeight:""},instructionType:"WAITING_FOR_COMPLETION",docElm:document.documentElement,isFullscreen:!1}},provide:function(){return{rely:this.rely}},computed:{timeCostText:function(){return this.conclusionDuration?this.conclusionDuration:0}},created:function(){this.infoId=this.$route.params.id,Zt=this.$loading({lock:!0,text:"页面加载中",background:"rgba(0, 0, 0, 0.7)"}),this.getInfo()},methods:{switchTypeNext:function(){this.participantBasicInfo.length&&"userInfo"!==this.pageStatus?this.pageStatus="userInfo":"userInfo"!==this.pageStatus&&this.startAnswer()},enterGuide:function(){var t=this;"FIXED_DURATION"===this.instructionType&&L(this.instructionDuration,1e3,(function(e){t.instructionDuration=e,e<=0&&t.switchTypeNext()})),this.pageStatus="instruction"},enterFullScreen:function(t){var e=this;this.$refs.oktClick.$el.addEventListener("click",(function(){e.toFullVideo().then((function(t){e.isFullscreen=!0,"isFullScreen"===e.pageStatus&&(e.pageStatus="instruction",e.enterGuide())})).catch((function(t){console.log(t)}))}),!1)},toFullVideo:function(){var t=document.documentElement;return t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen()},cancelFullScreen:function(t){var e=this;t.target.addEventListener("click",(function(){e.cancelFullVideo().then((function(t){e.isFullscreen=!1,console.log(t)})).catch((function(t){console.log(t)}))}),!1)},cancelFullVideo:function(){return document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():void 0},startAnswer:function(){this.pageStatus="answer",this.rely.nodeTime=this.$refs.allTimeSta.endtingTime},endFillIn:function(t){this.participantBasicInfoData=Object(s["a"])({},t),this.startAnswer()},answerIndex:function(t){this.percentage=this.GetPercent(t,this.feedbackExperimentStimulate.length)},GetPercent:function(t,e){return t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e)?"-":e<=0?0:Math.round(t/e*1e4)/100},endOfAnswer:function(t){var e=this;if(this.answer=t,this.conclusionDurationTxt=this.conclusionDuration/1e3,this.pageStatus="conclusion",this.percentage=100,"FIXED_DURATION"===this.conclusionType){var n=this.conclusionDuration/1e3;this.conclusionDurationTxt=this.conclusionDuration/1e3,L(n,1e3,(function(t){e.conclusionDurationTxt=t,t||e.submitAnAnswer()}))}},submitAnAnswer:function(){var t=this;if(!this.locking){Zt=this.$loading({lock:!0,text:"答案提交中",background:"rgba(0, 0, 0, 0.7)"});var e=[],n=0;this.answer.forEach((function(i){var a=i.data.answerEndTime-i.data.answerStartingTime;n+=a,e.push({spentTime:a,answer:JSON.stringify(i.data.answer),topic:i.data.title,fesId:i.data.id,titlePresentationTime:i.data.answerStartingTime-t.rely.nodeTime,betweenContent:"CROSS_GAZE"===i.data.trialContentType?"十字注视点":"空白屏幕",betweenContentTime:i.data.betweenContentTime})})),c(Object(s["a"])(Object(s["a"])({feedbackId:this.infoId,spentTime:n},this.participantBasicInfoData),{},{answerContents:e})).then((function(e){Zt.close(),200===e.code?(alert("提交成功"),t.locking=!0):t.$message.error("答案提交失败")}))}},getInfo:function(){var t=this;Object(r["a"])({id:this.infoId}).then((function(e){if(Zt.close(),200===e.code){var n=e.data,i=n.experimentName,a=n.whetherFullScreen,s=n.stimulateType,r=e.data,o=r.instruction,c=r.instructionType,l=r.instructionDuration,u=r.conclusion,m=r.conclusionType,p=r.conclusionDuration,d=r.experimentType,h=r.immediatelyOver,f=e.data.feedbackExperimentStimulate,_=e.data,y=_.screenColor,T=_.fontSize,w=_.fontColor,v=_.yesOrNoViewProgressBar,g=_.yesOrNoShowFirstStimulate,E=_.participantBasicInfo;document.title=i,t.whetherFullScreen=a,t.stimulateType=s,t.conclusionDuration=p,t.conclusionType=m,t.rely.stimulateType=s,t.rely.experimentType=d,t.rely.immediatelyOver=h,t.rely.yesOrNoShowFirstStimulate=g,t.rely.screenColor=y,t.instructionData={instruction:o,experimentName:i},t.conclusion=u,t.feedbackExperimentStimulate=f,t.percentage=t.GetPercent(0,f.length),t.screenColor=y,t.fontSize=T,t.fontColor=w,t.yesOrNoViewProgressBar=v,t.yesOrNoShowFirstStimulate=g,t.participantBasicInfo=""!==E?E.split(","):[];var C=document.createEvent("MouseEvents");C.initEvent("click",!0,!0);var b=setTimeout((function(){clearTimeout(b),t.$refs.oktClick.$el.dispatchEvent(C),t.$refs.notClick.$el.dispatchEvent(C)}),2e3);t.instructionType=c,"FIXED_DURATION"===t.instructionType&&(t.instructionDuration=l/1e3)}else t.$message.error("获取数据失败")}))}},components:{instruction:_,allTimeStatistics:b,answerPackage:Pt,conclusion:Xt,userInformationCollection:Yt},watch:{sexualOrientation:function(t){console.log(t)}}},te=Qt,ee=te,ne=(n("5feb"),Object(h["a"])(ee,i,a,!1,null,"a0374210",null));e["default"]=ne.exports},c302:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i="".concat(window.location.origin,"/upload/")},c52d:function(t,e,n){"use strict";var i=n("8ac2"),a=n.n(i);a.a},c6fd:function(t,e,n){},c92a:function(t,e,n){"use strict";var i=n("f161"),a=n.n(i);a.a},cc37:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("99af"),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("a9e3"),core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_3__),_config_imgUrlRoot__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("c302"),_components_payVideo_payVideo__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("ed38");function isArray(t){return"[object Array]"===Object.prototype.toString.call(t)}__webpack_exports__["a"]={name:"pupOtsUt",inject:["nextLogic","rely"],props:{answerEndTime:{type:Number,default:0},answer:{type:[String,Number],default:""}},components:{payVideo:_components_payVideo_payVideo__WEBPACK_IMPORTED_MODULE_5__["a"]},data:function(){return{urlRoot:_config_imgUrlRoot__WEBPACK_IMPORTED_MODULE_4__["a"],content:{},caTime:0,url:"",text:"",type:""}},created:function created(){var _this=this;if(this.caTime=this.answerEndTime-this.nextLogic.answerStartingTime,this.content=JSON.parse(this.nextLogic.experimentalLogicContent),"REACTION_TIME"===this.nextLogic.experimentalLogicType){var expression="";expression=this.content.value?"".concat(this.caTime,">").concat(this.content.timeCost):"".concat(this.caTime,"<").concat(this.content.timeCost),eval(expression)?(this.type=this.content.type,"TEXT"===this.content.type?this.text=this.content.text:"IMG"===this.content.type?this.url=isArray(this.content.imgUrl)?this.content.imgUrl:JSON.parse(this.content.imgUrl):this.url=this.content.audioAndVideoUrl):(this.type=this.content.type2,"TEXT"===this.content.type2?this.text=this.content.text2:"IMG"===this.content.type2?this.url=isArray(this.content.imgUrl2)?this.content.imgUrl2:JSON.parse(this.content.imgUrl2):this.url=this.content.audioAndVideoUrl2)}if("LAST_ANSWER"===this.nextLogic.experimentalLogicType&&(this.content.answer==this.answer?(this.type=this.content.type,"TEXT"===this.content.type?this.text=this.content.text:"IMG"===this.content.type?this.url=isArray(this.content.imgUrl)?this.content.imgUrl:JSON.parse(this.content.imgUrl):this.url=this.content.audioAndVideoUrl):(this.type=this.content.type2,"TEXT"===this.content.type2?this.text=this.content.text2:"IMG"===this.content.type2&&(this.url=isArray(this.content.imgUrl2)?this.content.imgUrl2:JSON.parse(this.content.imgUrl2)))),"AUDIO_AND_VIDEO"!==this.type)var outTime=setTimeout((function(){clearTimeout(outTime),_this.$emit("nextAnts")}),3e3);else this.$emit("nextAnts")},methods:{playerEnded:function(){this.$emit("nextAnts")}}}},ed38:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pay-video"},["video"===t.fileType?n("div",{staticClass:"pay-video-xg",attrs:{id:"mes"}}):"radio"===t.fileType?n("div",{staticClass:"pay-video-xg",attrs:{id:"mesRadio"}},[n("aplayer",{ref:"audio",attrs:{autoplay:!0,music:t.music},on:{loadedmetadata:t.playerReady,ended:t.playerEnded}})],1):t._e()])},a=[],s=(n("99af"),n("b346")),r=n("5392"),o=n.n(r),c=n("0f7d"),l=n.n(c),u=n("c302"),m={name:"playVideo",props:{url:{type:String,default:""}},data:function(){return{player:null,urlRoot:u["a"],fileType:"radio",music:{title:"音频播放",artist:" ",src:"",pic:""}}},created:function(){var t=this;this.fileType=Object(s["b"])(this.url),this.music.src="".concat(u["a"]).concat(this.url);var e=setTimeout((function(){clearTimeout(e),t.init(t.fileType)}),20)},methods:{init:function(t){var e=this;switch(t){case"radio":for(var n=function(t){var n=e.$refs.audio.$el.childNodes[t];if("AUDIO"===n.tagName)return n.addEventListener("ended",e.playerEnded,!1),e.$once("hook:beforeDestroy",(function(){n.removeEventListener("ended",e.playerEnded,!1)}),!1),"break"},i=0;i<this.$refs.audio.$el.childNodes.length;i++){var a=n(i);if("break"===a)break}break;case"video":this.player=new o.a({id:"mes",url:"".concat(u["a"]).concat(this.url),autoplay:!0}),this.player.once("ready",this.playerReady),this.player.once("ended",this.playerEnded);break}},playerReady:function(t){},playerEnded:function(){this.$emit("playerEnded",{})},payerPause:function(){"video"===this.fileType?this.player.pause():this.$refs.audio.pause()}},components:{Aplayer:l.a}},p=m,d=(n("3cc1"),n("2877")),h=Object(d["a"])(p,i,a,!1,null,"6a948e2a",null);e["a"]=h.exports},f161:function(t,e,n){}}]);